!function(t){"use strict";function e(t,e){for(var i in e=e||{},this.settings={checkable:"none"},e)e.hasOwnProperty(i)&&(this.settings[i]=e[i]);if(this.button=t,this.button.setAttribute("aria-haspopup",!0),this.button.setAttribute("aria-expanded",!1),this.menuId=this.button.getAttribute("data-inclusive-menu-opens"),this.menu=document.getElementById(this.menuId),!this.menu)throw new Error("Element `#"+this.menuId+"` not found.");if(this.menu.setAttribute("role","menu"),this.menu.hidden=!0,this.menuItems=this.menu.querySelectorAll("button"),this.menuItems.length<1)throw new Error("The #"+this.menuId+" menu has no menu items");this.firstItem=this.menuItems[0],this.lastItem=this.menuItems[this.menuItems.length-1];var n=function(t,e){var i=e===this.firstItem;function n(t){return(i?t.nextElementSibling:t.previousElementSibling)||e}for(var s=n(t);s.disabled;)s=n(s);s.focus()}.bind(this);Array.prototype.forEach.call(this.menuItems,function(t){Array.prototype.filter.call(this.menuItems,(function(t){return!t.disabled})).length<1?this.button.disabled=!0:("one"===this.settings.checkable?t.setAttribute("role","menuitemradio"):"many"===this.settings.checkable?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),t.setAttribute("tabindex","-1"),t.addEventListener("keydown",function(e){40===e.keyCode&&(e.preventDefault(),n(t,this.firstItem)),38===e.keyCode&&(e.preventDefault(),n(t,this.lastItem)),27!==e.keyCode&&9!==e.keyCode||this.toggle(),27===e.keyCode&&(e.preventDefault(),this.button.focus())}.bind(this)),t.addEventListener("click",function(e){this.choose(t),this.close(),this.button.focus()}.bind(this)))}.bind(this)),this.button.addEventListener("click",this.toggle.bind(this)),this.button.addEventListener("keydown",function(t){40===t.keyCode&&(this.menu.hidden?this.open():this.menu.querySelector(":not([disabled])").focus()),38===t.keyCode&&this.close()}.bind(this)),this._listeners={}}e.prototype.open=function(){if(this.button.setAttribute("aria-expanded",!0),this.menu.hidden=!1,"one"===this.settings.checkable)var t=this.menu.querySelector('[aria-checked="true"]');return t?t.focus():this.menu.querySelector('[role^="menuitem"]:not([disabled])').focus(),this.outsideClick=function(t){this.menu.contains(t.target)||this.button.contains(t.target)||(this.close(),document.removeEventListener("click",this.outsideClick.bind(this)))}.bind(this),document.addEventListener("click",this.outsideClick.bind(this)),this._fire("open"),this},e.prototype.close=function(){return this.button.setAttribute("aria-expanded",!1),this.menu.hidden=!0,this._fire("close"),this},e.prototype.toggle=function(){return"true"===this.button.getAttribute("aria-expanded")?this.close():this.open()},e.prototype.choose=function(t){if("one"===this.settings.checkable&&(Array.prototype.forEach.call(this.menuItems,(function(t){t.removeAttribute("aria-checked")})),t.setAttribute("aria-checked","true")),"many"===this.settings.checkable){var e="true"===t.getAttribute("aria-checked")||!1;t.setAttribute("aria-checked",!e)}return this._fire("choose",t),this},e.prototype._fire=function(t,e){(this._listeners[t]||[]).forEach((function(t){t(e)}))},e.prototype.on=function(t,e){return void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].push(e),this},e.prototype.off=function(t,e){var i=this._listeners[t].indexOf(e);return i>-1&&this._listeners[t].splice(i,1),this},"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:"function"==typeof define&&define.amd?define("MenuButton",[],(function(){return e})):"object"==typeof t&&(t.MenuButton=e)}(this),window.matchMedia("(min-width: 56.25em)").matches?document.querySelectorAll("#menu button").forEach((t=>{t.setAttribute("tabindex","0")})):new MenuButton(document.querySelector("[data-inclusive-menu-opens]"));